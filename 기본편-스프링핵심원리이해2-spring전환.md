기본편 - 스프링핵심원리이해2

## AppConfig 리팩토링

![스크린샷 2021-08-13 오후 5.56.38](/Users/mac/Desktop/스크린샷 2021-08-13 오후 5.56.38.png)

기대하는 그림과 달리 무슨 역할을하는지 자세히는 모른다

따라서 역할을 한 눈에 알 수 있도록 바꿔줘야 한다.

![스크린샷 2021-08-13 오후 5.57.23](/Users/mac/Desktop/스크린샷 2021-08-13 오후 5.57.23.png)

MemberRepository, discountPolicy를 따로 제작하여 역할을 보여주었다.

결론

![스크린샷 2021-08-13 오후 5.57.50](/Users/mac/Desktop/스크린샷 2021-08-13 오후 5.57.50.png)



## 정액할인 정책을 정률할인 정책으로 변경

![스크린샷 2021-08-13 오후 6.11.48](/Users/mac/Library/Application Support/typora-user-images/스크린샷 2021-08-13 오후 6.11.48.png)

->구성영역만 변경하면 된다.



## 여기서 적용된 Solid원칙

![스크린샷 2021-08-13 오후 6.24.07](/Users/mac/Library/Application Support/typora-user-images/스크린샷 2021-08-13 오후 6.24.07.png)

![스크린샷 2021-08-13 오후 6.24.30](/Users/mac/Library/Application Support/typora-user-images/스크린샷 2021-08-13 오후 6.24.30.png)



## IoC, DI, 컨테이너

![스크린샷 2021-08-13 오후 6.38.20](/Users/mac/Library/Application Support/typora-user-images/스크린샷 2021-08-13 오후 6.38.20.png)



![스크린샷 2021-08-13 오후 7.00.27](/Users/mac/Desktop/스크린샷 2021-08-13 오후 7.00.27.png)



![스크린샷 2021-08-13 오후 7.01.51](/Users/mac/Desktop/스크린샷 2021-08-13 오후 7.01.51.png)



## 스프링으로 변환하기

@Bean을 붙여 스프링 컨테이너에 스프링 빈으로 등록한다.

주석은 기존코드, 아래는 스프링 컨테이너

![스크린샷 2021-08-13 오후 7.23.37](/Users/mac/Desktop/스크린샷 2021-08-13 오후 7.23.37.png)



![스크린샷 2021-08-13 오후 7.18.49](/Users/mac/Desktop/스크린샷 2021-08-13 오후 7.18.49.png)

기존방식은 AppConfig를 만들고, 직접 생성하고 다하였지만

스프링에게 환경정보를 주고 찾을때는 스프링 컨테이너를 이용해 찾는 것

